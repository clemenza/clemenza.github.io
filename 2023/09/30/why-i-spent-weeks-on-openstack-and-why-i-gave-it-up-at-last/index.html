

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Xinlei Zhang">
  <meta name="keywords" content="">
  
    <meta name="description" content="引语本文介绍测试团队虚拟化方案设计和实现过程，为什么选择该方案，该方案的优势和劣势，以及后续的实施计划等 实现目标选择虚拟化方案时，需要考虑以下因素替代现有测试环境，满足将来的团队成长和测试需求完全隔离，消除环境混用带来的环境破坏不会引入违反信创要求的商业风险能够兼容现有的和采购中的体系结构平台，以及需要支持的国产操作系统平台部署和运维难度，成本可控，这里的成本主要指人力成本生产的虚拟环境方便管理">
<meta property="og:type" content="article">
<meta property="og:title" content="OpenStack从入门到放弃">
<meta property="og:url" content="https://clemenza.github.io/2023/09/30/why-i-spent-weeks-on-openstack-and-why-i-gave-it-up-at-last/index.html">
<meta property="og:site_name" content="Xinlei&#39;s Newsletter">
<meta property="og:description" content="引语本文介绍测试团队虚拟化方案设计和实现过程，为什么选择该方案，该方案的优势和劣势，以及后续的实施计划等 实现目标选择虚拟化方案时，需要考虑以下因素替代现有测试环境，满足将来的团队成长和测试需求完全隔离，消除环境混用带来的环境破坏不会引入违反信创要求的商业风险能够兼容现有的和采购中的体系结构平台，以及需要支持的国产操作系统平台部署和运维难度，成本可控，这里的成本主要指人力成本生产的虚拟环境方便管理">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://clemenza.github.io/2023/09/30/why-i-spent-weeks-on-openstack-and-why-i-gave-it-up-at-last/virtualization.drawio.png">
<meta property="article:published_time" content="2023-09-30T15:35:13.000Z">
<meta property="article:modified_time" content="2023-10-01T11:31:27.968Z">
<meta property="article:author" content="Xinlei Zhang">
<meta property="article:tag" content="hexo">
<meta property="article:tag" content="fluid">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://clemenza.github.io/2023/09/30/why-i-spent-weeks-on-openstack-and-why-i-gave-it-up-at-last/virtualization.drawio.png">
  
  
  
  <title>OpenStack从入门到放弃 - Xinlei&#39;s Newsletter</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"clemenza.github.io","root":"/","version":"1.9.5-a","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="OpenStack从入门到放弃"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-09-30 23:35" pubdate>
          September 30, 2023 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          2.3k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          20 mins
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">OpenStack从入门到放弃</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="引语"><a href="#引语" class="headerlink" title="引语"></a>引语</h2><p>本文介绍测试团队虚拟化方案设计和实现过程，为什么选择该方案，该方案的优势和劣势，以及后续的实施计划等</p>
<h2 id="实现目标"><a href="#实现目标" class="headerlink" title="实现目标"></a>实现目标</h2><p>选择虚拟化方案时，需要考虑以下因素<br>替代现有测试环境，满足将来的团队成长和测试需求<br>完全隔离，消除环境混用带来的环境破坏<br>不会引入违反信创要求的商业风险<br>能够兼容现有的和采购中的体系结构平台，以及需要支持的国产操作系统平台<br>部署和运维难度，成本可控，这里的成本主要指人力成本<br>生产的虚拟环境方便管理和扩展，性能和可用性足够稳定<br>下面会基于以上需求分析和陈述选型过程中的决策和最终方案</p>
<h2 id="方案调研"><a href="#方案调研" class="headerlink" title="方案调研"></a>方案调研</h2><p>选择自己做虚拟化方案已经天然解决了第1点和第2点目标，主要需要从后面4点考虑，即<code>商业风险</code>，<code>兼容性</code>，<code>管理</code>，<code>运维成本</code></p>
<h3 id="OpenStack"><a href="#OpenStack" class="headerlink" title="OpenStack"></a>OpenStack</h3><p>OpenStack是非常成熟和庞大的公有云开源方案，也是第一个调研对象，毫无疑问OpenStack从功能上可以支持所有测试管理需求，甚至多出了很多团队不需要的大型特性，是否多就一定是好呢，答案是未必<br>参考官方文档和博客，借用<code>packstack</code>和<code>puppet</code>等自动化工具，我花了一周时间才部署出一个<code>allinone</code>的<code>OpenStack</code>环境，以及2个独立的计算节点，调通了一个虚机的生产过程，这个过程中我遇到了类似以下问题</p>
<ol>
<li><code>controller node</code>的部署过程中我需要持续不断的输入密码</li>
<li>由于部署<code>controller node</code>的虚机<code>hostname</code>带有数字，<code>rabbitmq</code>无法启动</li>
<li>由于Linux安全策略，web页面因为不能监听特定端口而无法启动</li>
<li>前一次安装失败之后，由于存在失败安装的残留数据本次部署会因为密码错误而无法启动</li>
<li>nova-compute因为访问<code>controller</code>的<code>rabbitmq</code>出错而无法启动</li>
<li>计算节点的操作系统只支持<code>OpenStack Rocky</code>，版本滞后<code>OpenStack Train</code>过大而不得不升级操作系统</li>
<li>升级后的操作系统因为未适配<code>OVN controller</code>而无法安装<code>neutron</code>网络<code>agent</code></li>
<li>…</li>
</ol>
<p>我不得不查询systemctl status, journal -xe和系统日志去寻找每个出问题涉及模块的蛛丝马迹，以及在不同机器的不同模块日志之间来回跳跃跟踪失败请求，分析和尝试，去完成整个定位和调试过程<br>直到我们开始复盘整个搭建过程和我们的虚拟化需求，为了利用OpenStack提供的强大虚拟化特性的那5%~10%，从而引入如此巨大的运维成本是否值得<br>诚然，OpenStack实现了如此复杂的逻辑解耦，不存在任何单点模块，每个模块都是可以弹性伸缩扩容的，理论上可以管理成千上万的资源节点；但是，模块变多同时也意味着出问题的点变多，模块之间的通信又会引入可能的网络问题，我已经在想象将来的某天一台虚机突然莫名其妙的不能访问外网要如何去定位和解决<br>作为一个规模不大的测试团队，需要的虚机为100+的规模，这个虚拟化方案的运维负担有些过重了<br>最后，我并不确定OpenStack是否符合信创要求，于是我们将视线转向了其他方案</p>
<h3 id="PVE"><a href="#PVE" class="headerlink" title="PVE"></a>PVE</h3><p>下一个备选方案就是PVE,oVirt,类ESXi的小型虚拟化方案，这类hypervisor以更加紧凑的方式实现了我们需要的所有功能，否定掉这类方案的原因也很简单粗暴，这类方案都需要在计算节点上运行一个较为强大的特殊操作系统或者engine，而我们的测试重点机器鲲鹏架构和openeluer不支持安装这样的管理端</p>
<h3 id="基于上述调研的混合方案"><a href="#基于上述调研的混合方案" class="headerlink" title="基于上述调研的混合方案"></a>基于上述调研的混合方案</h3><p>从以上调研过程来看，我们已经因为运维成本问题放弃了OpenStack，因为兼容性问题放弃了PVE，最终形成了适用我们团队的可行方案</p>
<h3 id="Webvirtmgr-Kvm-Lvm"><a href="#Webvirtmgr-Kvm-Lvm" class="headerlink" title="Webvirtmgr+Kvm+Lvm"></a>Webvirtmgr+Kvm+Lvm</h3><p>LVM存储池的灵感来自于OpenStack和PVE，差别在于cinder会自动将本地lvm的volume通过iscsi协议映射到网络，从而提供VM跨机挂载，要提供这种程度的池化还需要有调度模块计算整体存储节点的capacity和装箱算法<br>而我们的物理机上都有多个硬盘（包括机械硬盘和SSD），对于虚机的池化需求来说是绰绰有余的，而LVM在本地提供了极为灵活的管理扩容和快照能力，作为Linux utility稳定性也足够<br>既然OpenStack和PVE都选择了LVM作为默认存储方案，那么它的性能应该也是能够满足需求的，至少会明显好于file-backed的qemu镜像<br>webvirtmgr作为管理服务，功能上比PVE，oVirt之类的会弱很多，但是由于直接操作libvirtd，可以完全兼容不同的CPU和操作系统，只要kvm和qemu能安装就能管理，至少提供了集中式访问的方式<br>而运维操作可以通过Jenkins agent实现自动化需求，只要能够通过virsh命令行操作就可以创建为Jenkins pipeline可视化，底层还是依赖libvirtd，这也留下了较大的扩展空间<br>通过Linux bridge连接到物理网络给虚机分配量子机房IP，提供量子机房的物理网络直通<br>以上，兼容性，管理，运维成本，商业风险 都得到了满足<br><img src="/2023/09/30/why-i-spent-weeks-on-openstack-and-why-i-gave-it-up-at-last/virtualization.drawio.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="方案优势"><a href="#方案优势" class="headerlink" title="方案优势"></a>方案优势</h2><ol>
<li>兼容性好，即使以后加入新的平台也可以顺利纳入管理</li>
<li>稳定性好，本质上只依赖kvm+qemu，以及lvm的稳定性</li>
<li>运维成本尚可，需要有更多的运维脚本和Jenkins pipeline开发工作，可更好的定制化运维操作</li>
</ol>
<h3 id="方案劣势"><a href="#方案劣势" class="headerlink" title="方案劣势"></a>方案劣势</h3><ol>
<li>当前管理功能较弱，需持续完善</li>
<li>部署依赖IT准备物理机的基础配置</li>
</ol>
<h3 id="将来计划"><a href="#将来计划" class="headerlink" title="将来计划"></a>将来计划</h3><ol>
<li>VM creating pipeline</li>
<li>VM ops pipeline</li>
<li>admin wiki, principle, solution,arch, etc.</li>
<li>IO performance optimize</li>
<li>snapshot , backup, restore investigation</li>
<li>more customized images</li>
<li>kvm performance template</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://medium.com/@zxlmgsps2/why-i-spent-weeks-on-openstack-and-why-i-gave-it-up-at-last-106349429df5">参考</a></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/hexo/" class="print-no-link">#hexo</a>
      
        <a href="/tags/fluid/" class="print-no-link">#fluid</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>OpenStack从入门到放弃</div>
      <div>https://clemenza.github.io/2023/09/30/why-i-spent-weeks-on-openstack-and-why-i-gave-it-up-at-last/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>Xinlei Zhang</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>September 30, 2023</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/09/30/hello-world/" title="Hello World">
                        <span class="hidden-mobile">Hello World</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
